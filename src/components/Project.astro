---
import IconLink from "./IconLink.astro";

import GitHub from "./icons/GitHub.astro";
import Bullseye from "./icons/Bullseye.astro";

interface Tag {
    name: string;
    classList: string;
    icon: any;
}

interface Project {
    title: string;
    description: string;
    image: string;
    tags: Tag[];
    github?: string;
    link?: string;
    caseStudy?: boolean;
}

const { title, description, image, tags, github, link, caseStudy } = Astro.props
    .project as Project;
---

<article class="group grid items-center gap-8 rounded-3xl border border-white/30 bg-white/75 p-6 shadow-lg shadow-sky-500/10 backdrop-blur-lg transition duration-300 hover:-translate-y-1 hover:shadow-2xl dark:border-white/10 dark:bg-white/5 md:grid-cols-[1.05fr_0.95fr]">
    <div class="relative w-full overflow-hidden rounded-2xl border border-white/40 shadow-xl shadow-sky-500/10 dark:border-white/10">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30 opacity-0 transition duration-500 group-hover:opacity-100"></div>
        <img class="object-cover object-top w-full h-full max-h-[320px] transition duration-500 group-hover:scale-[1.02]" loading="lazy" src={image} alt={title} />
    </div>

    <div class="flex w-full flex-col gap-4">
        <div class="flex flex-col gap-2">
            <p class="text-xs font-semibold uppercase tracking-[0.12em] text-sky-600 dark:text-sky-300" data-i18n-project-featured>Caso destacado</p>
            <h3 class="text-2xl font-semibold leading-snug text-gray-900 dark:text-white" data-i18n-project-title>{title}</h3>
        </div>

        <ul class="flex flex-wrap gap-2">
            {
                tags.map((tag) => (
                    <li>
                        <span
                            class={`flex items-center gap-x-2 rounded-full border border-white/40 bg-white/80 px-3 py-1.5 text-xs font-semibold text-gray-900 shadow-sm backdrop-blur dark:border-white/10 dark:bg-white/5 dark:text-white`}
                        >
                            <tag.icon class="size-4" />
                            {tag.name}
                        </span>
                    </li>
                ))
            }
        </ul>

        <p class="text-gray-700/90 dark:text-gray-200/85 text-pretty" data-i18n-project-description>
            {description}
        </p>

        <footer class="flex items-center gap-3 pt-2">
            {github && <IconLink href={github} label="GitHub" icon={GitHub} />}
            {caseStudy && link && <IconLink href={link} label="Case Study" icon={Bullseye} data-i18n-case-study />}
            {!caseStudy && link && <IconLink href={link} label="Preview" icon={Bullseye} />}
        </footer>
    </div>
</article>
